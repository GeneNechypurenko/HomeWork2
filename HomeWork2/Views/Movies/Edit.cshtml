@model HomeWork2.Models.Movie

@{
    ViewData["Title"] = "Edit";
    ViewData["PageTitle"] = "EDIT MOVIE: " + @Model.Title;
    ViewData["ShowAddButton"] = false;
    ViewData["ShowBackButton"] = true;
}

<section class="edit-container">

    <section class="form-box">
        <form asp-action="Edit" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="Title">Title</label>
                <input type="text" class="form-control" id="Title" name="Title" value="@Model.Title" required oninput="updatePreview()" />
            </div>

            <div class="form-group">
                <label for="Rating">Rating</label>
                <input type="number" step="0.1" class="form-control" id="Rating" name="Rating" value="@Model.Rating" min="0.0" max="9.9" required oninput="updatePreview()" />
            </div>
            <div class="form-group">
                <label for="Genre">Genre</label>
                <input type="text" class="form-control" id="Genre" name="Genre" value="@Model.Genre" required oninput="updatePreview()" />
            </div>

            <div class="upload">
                <label for="input-file" id="drop-area">
                    <input type="file" id="input-file" name="poster" hidden onchange="previewImage(event)" />
                    <div id="image-view">
                        <img src="~/background/upload.png" />
                        <p>Drag and drop or click here<br />to upload image</p>
                    </div>
                </label>
            </div>

            <div class="form-group">
                <label for="Year">Year</label>
                <input type="number" class="form-control" id="Year" name="Year" value="@Model.Year" min="1900" max="@(DateTime.Now.Year)" required oninput="updatePreview()" />
            </div>
            <div class="form-group">
                <label for="Director">Director</label>
                <input type="text" class="form-control" id="Director" name="Director" value="@Model.Director" required oninput="updatePreview()" />
            </div>

            <div class="description">
                <label for="Description">Description</label>
                <textarea class="form-control" id="Description" name="Description" required oninput="updatePreview()">@Model.Description</textarea>
            </div>

            <div class="button-container">
                <button type="submit">Accept</button>
                <button type="button" id="clear-button">Clear</button>
            </div>
        </form>
    </section>

    <section class="preview-box">
        <div class="preview-title">
            <h1 class="add-title">@Model.Title</h1>
        </div>
        <div class="preview-group">
            <div class="preview-rating">@Model.Rating</div>
            <div class="preview-genre">@Model.Genre</div>
            <img class="preview-posterUrl" id="output-file" src="@Model.PosterUrl" />
            <div class="preview-year">@Model.Year</div>
            <div class="preview-director">@Model.Director</div>
        </div>
        <div class="preview-description">
            <div class="add-description">@Model.Description</div>
        </div>
    </section>

</section>

<script src="~/js/edit.js"></script>