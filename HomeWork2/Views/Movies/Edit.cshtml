@model HomeWork2.Models.Movie

@{
    ViewData["Title"] = "Edit";
    ViewData["PageTitle"] = "EDIT MOVIE: " + @Model.Title;
    ViewData["ShowAddButton"] = false;
    ViewData["ShowBackButton"] = true;
}

<section class="edit-container">
    <section class="form-box">
        <form asp-action="Edit" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label asp-for="Title"></label>
                <input asp-for="Title" class="form-control" required oninput="updatePreview()" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Rating"></label>
                <input asp-for="Rating" type="number" class="form-control" step="0.1" required oninput="updatePreview()" />
                <span asp-validation-for="Rating" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Genre"></label>
                <input asp-for="Genre" class="form-control" required oninput="updatePreview()" />
                <span asp-validation-for="Genre" class="text-danger"></span>
            </div>

            <div class="upload">
                <label for="input-file" id="drop-area">
                    <input type="file" id="input-file" name="poster" hidden onchange="previewImage(event)" />
                    <div id="image-view">
                        <img src="~/background/upload.png" />
                        <p>Drag and drop or click here<br />to upload image</p>
                    </div>
                </label>
            </div>

            <div class="form-group">
                <label asp-for="Year"></label>
                <input asp-for="Year" type="number" class="form-control" required oninput="updatePreview()" />
                <span asp-validation-for="Year" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Director"></label>
                <input asp-for="Director" class="form-control" required oninput="updatePreview()" />
                <span asp-validation-for="Director" class="text-danger"></span>
            </div>

            <div class="description">
                <label asp-for="Description"></label>
                <textarea asp-for="Description" class="form-control" required oninput="updatePreview()"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>

            <div class="button-container">
                <button type="submit">Accept</button>
                <button type="button" id="clear-button">Clear</button>
            </div>
        </form>
    </section>

    <section class="preview-box">
        <div class="preview-title">
            <h1 class="add-title">@Model.Title</h1>
        </div>
        <div class="preview-group">
            <div class="preview-rating">@Model.Rating</div>
            <div class="preview-genre">@Model.Genre</div>
            <img class="preview-posterUrl" id="output-file" src="@Model.PosterUrl" />
            <div class="preview-year">@Model.Year</div>
            <div class="preview-director">@Model.Director</div>
        </div>
        <div class="preview-description">
            <div class="add-description">@Model.Description</div>
        </div>
    </section>
</section>

<script src="~/js/edit.js"></script>